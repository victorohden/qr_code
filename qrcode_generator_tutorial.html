<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
</head>
<body>
    <h2>QR Code Generator</h2>
    <div>
        <label>Text: </label>
        <input id="generic-qrcode-input" type="text" onchange="generateGenericQRCode(this.value)"/>
        <button onclick="generateGenericQRCode()">Generate Generic QR Code</button>
        <button onclick="generateBusinessCardQRCode()">Generate Business Card QR Code</button>
    </div>
    <img id="qrcode"/>
    
    <script>
        function generateGenericQRCode(value) {
            value = value || document.getElementById('generic-qrcode-input').value;
            let formData = new FormData();
            formData.append('data', value);
            fetch('http://localhost:5000/qr_code', {
                method: 'POST',
                body: formData
            }).then((res) => {
                res.blob().then((blob) => {
                    let url = URL.createObjectURL(blob);
                    document.getElementById('qrcode').src = url;
                });
            });
        }

        function generateBusinessCardQRCode() {
            let first_name = prompt("Enter first name:");
            let last_name = prompt("Enter last name:");
            let email = prompt("Enter email:");
            let email2 = prompt("Enter another email:");
            let phone_number = prompt("Enter phone number:");
            let url = prompt("Enter URL:");
            
            let formData = new FormData();
            formData.append('first_name', first_name);
            formData.append('last_name', last_name);
            formData.append('email', email);
            formData.append('email2', email2);
            formData.append('phone_number', phone_number);
            formData.append('url', url);

            fetch('http://localhost:5000/qr_code_card', {
                method: 'POST',
                body: formData
            }).then((res) => {
                res.blob().then((blob) => {
                    let url = URL.createObjectURL(blob);
                    document.getElementById('qrcode').src = url;
                });
            });
        }
    </script>
</body>
</html>
